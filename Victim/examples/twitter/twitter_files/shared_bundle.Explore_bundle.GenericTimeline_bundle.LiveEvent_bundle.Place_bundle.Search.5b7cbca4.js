(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Fg8X:function(e,t,r){"use strict";r("KI7T"),r("p+GS"),r("dtAy"),r("PN9k");var n=r("oEOe"),i=r("PiaM"),a=r("/kEJ"),o=r("3zvM"),c=r("lMB6"),d=r("RqPI"),l=r("XOJV"),s=r("iUle"),m=r("G6rE"),u={delete:{getParams:function(e){return{moment_id:e}},getApiMethod:function(e){return e.Moments.delete},reducer:function(e,t){return function(e,t,r){var n,i=e.entities[t.meta.entityId];return i&&/_REQUEST$/.test(t.type)?Object.assign({},e,{entities:Object.assign({},e.entities,(n={},n[i.id]=Object.assign({},i,{},r(i)),n))}):e}(e,t,(function(e){return{isDeleted:!0}}))}}},p=Object(o.e)({namespace:"moments",customActions:u,fetchOneContext:"FETCH_MOMENT",fetchOneEndpoint:function(e){return e.Moments.fetchMoment}}),g=function(e){return function(t){if(t&&t.id){var r,n=Object(s.a)(e),o=i.g({id:t.id,sortIndex:Date.now().toString()});return[Object(a.b)({moments:(r={},r[t.id]=t,r)}),n.injectEntry(o,{atTop:!0})]}return[]}};p.create=function(e){return function(e,t,r){var i=r.api,a=Object(d.g)(t());return n.b(e,{request:i.Moments.create,params:{title:"",description:"",is_production_only:!0,has_owner_granted_location_permission:!0}})({actionTypes:p.actionTypes.CREATE,context:"CREATE_MOMENT"},g(a))}},p.update=function(e){return function(t,r,i){var a=i.api,o=Object(d.g)(r());return n.b(t,{request:a.Moments.update,params:{title:null==e?void 0:e.title,description:null==e?void 0:e.description,id:null==e?void 0:e.id}})({actionTypes:p.actionTypes.OPTIMISTIC_UPDATE,context:"UPDATE_MOMENT"},g(o))}},p.selectAuthor=function(e,t){var r=t&&p.select(e,t);return r&&r.author&&m.e.select(e,r.author.id)},p.selectCoverMedia=function(e,t){var r=p.select(e,t),n=r&&r.cover_media&&r.cover_media.media&&r.cover_media.media.media_id,i=p.selectCoverTweet(e,t);return n&&i&&i.extended_entities&&i.extended_entities.media&&i.extended_entities.media.find((function(e){return e&&e.id_str===n}))},p.selectCoverTweet=function(e,t){var r=p.select(e,t),n=r&&r.cover_media&&r.cover_media.tweet_id;return n&&l.a.selectHydrated(e,n)},t.a=c.a.register(p)},iUle:function(e,t,r){"use strict";r("PN9k");var n=r("ZNT5");t.a=function(e){return Object(n.a)({timelineId:"user-moments-"+e,getEndpoint:function(e){return e.URT.fetchUserMoments},getEndpointParams:function(t){return Object.assign({userId:e},t)},context:"FETCH_USER_MOMENTS",perfKey:"userMoments"})}},iu0J:function(e,t,r){"use strict";var n=r("R972"),i=(r("yIC7"),r("PN9k"),r("6rlp")),a=r("VPAj"),o=r("0KEI"),c=r("Fg8X"),d=r("caTy"),l=r("cFuS"),s=r("NeVM"),m=r("zh9S"),u=r("Rp9C"),p=r("P1r1"),g=r("XOJV"),v=r("G6rE"),b=function(e){var t=e.content.promotedMetadata,r=e.content.id,n=Object.assign({event_details:{event_id:r}},u.a.getGuideDetails(e.itemMetadata.clientEventInfo));return t&&(n.disclosure_type=t.disclosureType,n.promoted_id=t.impressionId),n},f=function(e,t,r){return n.f({isFocusable:Object(a.a)(!0),component:e,bindActions:function(e){e.module;return{logTrend:i.c,scribe:m.c,createLocalApiErrorHandler:Object(o.b)(r)}},selectData:function(e){var t=e.entry.content,r=t.media&&t.media.mediaEntity.tweetMedia&&t.media.mediaEntity.tweetMedia.tweetId,n=t.media&&t.media.mediaEntity.tweetMedia&&t.media.mediaEntity.tweetMedia.momentId;return{advertiser:function(e){return t.promotedMetadata?v.e.select(e,t.promotedMetadata.advertiserId):void 0},dataSaverMode:p.j,publisher:function(e){return t.publisherId?v.e.select(e,t.publisherId):void 0},tweet:function(e){return r?g.a.select(e,r):void 0},moment:function(e){return c.a.select(e,n)}}},createProps:function(e){var r=e.data,n=r.advertiser,i=r.publisher,a=r.tweet,o=r.moment,c=r.dataSaverMode,m=e.entry,u=e.feedbackItems,p=e.actions,g=p.logTrend,v=p.scribe,f=p.createLocalApiErrorHandler,h=e.scribeNamespace,y=m.content,E=y.promotedMetadata,C=y.url&&Object(d.b)(y.url),x=y.socialContext,T=(x=void 0===x?{}:x).generalContext,_=b(m);return Object.assign({badge:y.badge,promotedContent:E?{advertiser:{id_str:E.advertiserId},advertiser_name:n?n.name:null,impression_id:E.impressionId,disclosure_type:"NoDisclosure"}:void 0,promotedTrendDescription:E?E.promotedTrendDescription:void 0,publisher:i,supportingText:y.supportingText,timeString:y.timeString,link:C,curationMenu:Object(s.a)({feedbackItems:u,onSuperHero:!("Hero"!==m.content.displayType||"eventSummary"!==m.type),scribe:v,scribeNamespace:h}),onClick:function(){v(Object.assign({},h,{action:"click"}),{items:[_]}),E&&E.promotedTrendId&&g({promoted_trend_id:E.promotedTrendId,impression_id:E.impressionId,event:l.d.SPOTLIGHT_CLICK}).catch(f())},title:y.title,contextLabel:T&&T.text,contextImage:T&&T.contextImageUrls&&T.contextImageUrls[0]},t({eventSummary:y,tweet:a,moment:o,scribe:v,scribeNamespace:h,entry:m,dataSaverMode:c}))},onImpression:function(e){var t=e.actions,r=t.logTrend,n=t.scribe,i=t.createLocalApiErrorHandler,a=e.entry,o=e.scribeNamespace,c=a.content.promotedMetadata;n(Object.assign({},o,{action:"impression"}),{items:[b(a)]}),c&&c.promotedTrendId&&r({promoted_trend_id:c.promotedTrendId,impression_id:c.impressionId,event:l.d.SPOTLIGHT_IMPRESSION}).catch(i())}})},h=(r("0rpg"),r("0mK8")),y=r("ERkP"),E=(r("rmZQ"),r("NlgC"),r("zOwA")),C=r("3xO4"),x=r.n(C),T=r("pjBI"),_=r("t62R"),I=r("e5HP"),w=r("Wms4"),S=r("rHpw"),M=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,O=function(e,t,r){return t?y.createElement(w.a,{background:"red"},t.text):e?y.createElement(x.a,{style:k.timestamp},y.createElement(_.b,{color:r,numberOfLines:1,size:"small"},e)):null},k=S.a.create((function(e){return{aboveTitle:{alignItems:"center",flexDirection:"row"},promotedIndicator:{marginTop:e.spaces.xSmall},timestamp:{maxWidth:"50%"},title:{marginVertical:e.spaces.micro}}})),F=function(e){var t=e.badge,r=e.contextImage,n=e.contextLabel,i=e.promotedContent,a=e.promotedTrendDescription,o=e.publisher,c=e.publisherTitleColor,d=void 0===c?"normal":c,l=e.style,s=e.supportingText,m=e.textColor,u=void 0===m?"deepGray":m,p=e.timeString,g=e.title,v=e.titleFontSize,b=void 0===v?"normal":v,f=e.titleWeight,C=void 0===f?"bold":f,w=g.replace("#","").charAt(0).match(M)?"rtl":"ltr";return y.createElement(x.a,{style:l},y.createElement(T.a,{color:u,style:k.aboveTitle},s?y.createElement(_.b,{color:u,numberOfLines:1,size:"small"},s):null,o?y.createElement(h.a,{author:o,avatarSize:"small",color:d,size:"small"}):null,t||p?O(p,t,u):null),y.createElement(_.b,{color:d,dir:w,size:b,style:k.title,weight:C,withHashflags:!0},g),i&&i.advertiser?y.createElement(y.Fragment,null,y.createElement(_.b,{color:u},a),y.createElement(I.a,{color:"white",promotedContent:i,style:k.promotedIndicator})):null,n?y.createElement(E.a,{color:u,image:r,label:n,textSize:"small"}):null)},j=r("htQn"),H=r("9Xij"),D=r("TIdA"),R=r("A91F"),P=S.a.create((function(e){return{coverContainer:{backgroundColor:e.colors.lightGray,borderRadius:e.borderRadii.large,height:"15%",maxHeight:"100px",maxWidth:"100px",minHeight:"70px",minWidth:"70px",overflow:"hidden",width:"15%"},details:{flex:1,marginRight:e.spaces.xSmall},rootLink:{flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}}})),z=function(e){var t=e.badge,r=e.dataSaverMode,n=e.contextImage,i=e.contextLabel,a=e.link,o=e.image,c=e.onClick,d=e.publisher,l=e.supportingText,s=e.timeString,m=e.title;return y.createElement(j.a,{link:a,onClick:c,style:P.rootLink},y.createElement(F,{badge:t,contextImage:n,contextLabel:i,publisher:d,style:P.details,supportingText:l,timeString:s,title:m}),y.createElement(x.a,{style:P.coverContainer},y.createElement(H.a,{ratio:1},!r&&o?y.createElement(D.a,{accessibilityLabel:"",aspectMode:R.a.SQUARE,image:o}):y.createElement(h.e,{icon:"news"}))))},A=function(e){return{image:e.eventSummary.image,dataSaverMode:e.dataSaverMode}},L=function(e){return f(z,A,e)},N=(r("KYm4"),Object.freeze({Cell:"Cell",Hero:"Hero"})),G=(r("KI7T"),r("cI1W"),r("VbXa")),V=r.n(G),U=r("pVnL"),K=r.n(U),W=r("FwvS"),X=r("prG5"),B=r("TrHT"),J=r("Modb"),Q=r("lklz"),q={red:0,green:0,blue:0},Z=function(e){function t(){return e.apply(this,arguments)||this}V()(t,e);var r=t.prototype;return r.render=function(){var e=S.a.theme.aspectRatios.landscape;return y.createElement(H.a,{ratio:e},y.createElement(x.a,{style:[Y.maxHeightWidth,this._getBackgroundColorStyle()]},this._renderCover()),y.createElement(x.a,{style:[S.a.absoluteFill,this._getGradientColorStyle()]}))},r._renderCover=function(){var e=this.props,t=e.coverMediaFromTweet,r=e.image,n=e.tweetId,i=e.promotedContent;if(n&&t&&"photo"!==t.type){var a=Object(B.a)(Q.b.forTweet(n),t);return y.createElement(J.a,K()({},a,{aspectRatio:S.a.theme.aspectRatios.landscape,displayOptions:{objectFitVideo:"cover",hideLeftBadges:!0,hidePosterImage:!0},forceLoop:!0,hideDataSaverAcceptOverlay:!0,hidePreviewPlayButton:!0,promotedContent:i,showControls:!1}))}if(t){var o=t.ext_alt_text||"",c=W.c(t);return this._renderCoverImage(c,o)}return this._renderCoverImage(r)},r._renderCoverImage=function(e,t){return void 0===t&&(t=""),e?y.createElement(X.a,{accessibilityLabel:t,aspectMode:R.a.exact(S.a.theme.aspectRatios.landscape),cropCandidates:this._getCropCandidates(),hideAcceptOverlay:!0,image:e}):null},r._getBackgroundColorStyle=function(){var e=this._getDominantColor();return{backgroundColor:e?"rgb("+e.red+","+e.green+","+e.blue+")":S.a.theme.colors.primary}},r._getGradientColorStyle=function(){return{backgroundImage:"linear-gradient(transparent 0%, transparent 25%, "+("rgba("+q.red+","+q.green+","+q.blue+", 0.70)")+" 75%, "+("rgba("+q.red+","+q.green+","+q.blue+", 0.80)")+" 100%)"}},r._getCropCandidates=function(){var e=this.props,t=e.manualCrops,r=e.coverMediaFromTweet;return t||r&&W.b(r)},r._getDominantColor=function(){var e=this.props.coverMediaFromTweet;return e&&W.a(e)},t}(y.Component),Y=S.a.create((function(e){return{maxHeightWidth:{height:"100%",width:"100%"}}})),$="eventHero",ee=r("cm6r"),te=function(e){function t(){return e.apply(this,arguments)||this}V()(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.onImpression;e&&e()},r.render=function(){var e=this.props,t=e.badge,r=e.contextImage,n=e.contextLabel,i=e.image,a=e.link,o=e.coverMediaFromTweet,c=e.onClick,d=e.manualCrops,l=e.curationMenu,s=e.promotedContent,m=e.promotedTrendDescription,u=e.publisher,p=e.supportingText,g=e.timeString,v=e.title,b=e.tweetId,f=v.length>80?"large":"xLarge";return y.createElement(y.Fragment,null,y.createElement(ee.a,{link:a,onClick:c,testID:$},y.createElement(Z,{coverMediaFromTweet:o,image:i,manualCrops:d,promotedContent:s,tweetId:b}),y.createElement(F,{badge:t,contextImage:r,contextLabel:n,promotedContent:s,promotedTrendDescription:m,publisher:u,publisherTitleColor:"white",style:[S.a.absoluteFill,re.details],supportingText:p,textColor:"white",timeString:g,title:v,titleFontSize:f,titleWeight:"heavy"})),l?y.createElement(x.a,{style:re.menuContainer},l):null)},t}(y.Component),re=S.a.create((function(e){return{coverContainer:{width:"100%"},menuContainer:{position:"absolute",top:e.spaces.xSmall,right:e.spaces.small},details:{justifyContent:"flex-end",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}}})),ne=te,ie=function(e){var t=e.eventSummary,r=e.tweet;if(r){var n=t.media&&t.media.mediaKey&&t.media.mediaKey.id;return r.extended_entities&&r.extended_entities.media&&r.extended_entities.media.find((function(e){return e.id_str===n}))}},ae=function(e){return{coverMediaFromTweet:ie(e),image:(n=e.eventSummary,n.media&&n.media.mediaEntity.image?n.media.mediaEntity.image:n.image),manualCrops:(t=e.moment,r=t&&t.cover_media&&t.cover_media.render&&t.cover_media.render.crops&&t.cover_media.render.crops.landscape_16_9,r&&[r]),tweetId:e.tweet&&e.tweet.id_str};var t,r,n},oe=function(e){return f(ne,ae,e)};t.a=function(e){var t,r=e.errorContext;return n.b({selectDisplayType:function(e){return e.content.displayType},handlers:(t={},t[N.Hero]=oe(r),t[N.Cell]=L(r),t)})}},zOwA:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var n=r("VbXa"),i=r.n(n),a=r("lSNA"),o=r.n(a),c=r("ERkP"),d=r("9Xij"),l=r("t62R"),s=r("rHpw"),m=r("D4le"),u=r.n(m),p=r("3xO4"),g=r.n(p),v=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e=this.props,t=e.color,r=e.image,n=e.label,i=e.textSize;return c.createElement(g.a,{style:b.root},r?c.createElement(g.a,{style:b.imageContainer},c.createElement(d.a,{ratio:1},c.createElement(u.a,{source:r,style:b.image}))):null,c.createElement(l.b,{color:t,size:i},n))},t}(c.PureComponent);o()(v,"defaultProps",{color:"deepGray",textSize:"normal"});var b=s.a.create((function(e){return{root:{alignItems:"center",flexDirection:"row"},imageContainer:{alignSelf:"flex-start",backgroundColor:e.colors.lightGray,flexShrink:0,height:e.fontSizes.large,marginRight:e.spaces.xxSmall,width:e.fontSizes.large,borderRadius:"100%"},image:{height:"100%",width:"100%",borderRadius:e.borderRadii.infinite}}}))}}]);
//# sourceMappingURL=https://ton.smf1.twitter.com/responsive-web-internal/sourcemaps/web/shared~bundle.Explore~bundle.GenericTimeline~bundle.LiveEvent~bundle.Place~bundle.Search.5b7cbca4.js.map