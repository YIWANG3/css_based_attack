if (self.CavalryLogger) { CavalryLogger.start_js(["TUTxb"]); }

__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null};return{kind:"SplitOperation",metadata:{derivedFrom:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer"},name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer$normalization",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[b,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[a,{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User"},d],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[a,d,{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page"},{kind:"InlineFragment",selections:[e],type:"User"},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group"}],storageKey:null},b,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},d],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_text_only_story",storageKey:null},{alias:null,args:null,concreteType:"Translation",kind:"LinkedField",name:"translation",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometFeedMessageTextWithEntities_textWithEntities"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedTranslationMenuTrigger_story"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"}],type:"CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy"};e.exports=a}),null);
__d("CometFeedTranslationMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2730690726975175",metadata:{relayPreloadable:!0},name:"CometFeedTranslationMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedTranslationMenuTrigger_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story"};e.exports=a}),null);
__d("CometFeedMessageQuote.react",["React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={blockquote:{borderStartColor:"h2mp5456",borderStartStyle:"mk2mc5f4",borderStartWidth:"peup4ujy",marginEnd:"cxmmr5t8",marginStart:"hcukyx3x",marginBottom:"sej5wr8e",marginTop:"aahdfvyu",paddingEnd:"hv4rvrfc",paddingStart:"dati1w0a"},withLeadingSpace:{marginStart:"dhix69tm"}};function a(a){var c=a.children,d=a.leadingSpace;d=d===void 0?!0:d;a=a.xstyle;return h.jsx("blockquote",{className:(g||(g=b("stylex")))(i.blockquote,d&&i.withLeadingSpace,a),children:h.jsx(b("TetraText.react"),{type:"body3",children:c})})}e.exports=a}),null);
__d("CometFeedGearActionIcon.react",["ix","CometTintedIcon.react","React","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i={gearIcon:{verticalAlign:"sf5mxxl7"}};function a(a){return h.jsx(b("CometTintedIcon.react"),{color:"fds-blue-60",icon:b("fbicon")._(g("497565"),12),xstyle:i.gearIcon})}e.exports=a}),null);
__d("CometFeedTranslationActionButton.react",["CometPressable.react","CometTrackingNodeProvider.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={linkHoverUnderline:{":hover":{textDecoration:"gpro0wi8"}}};function a(a,c){return g.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:g.jsx(b("CometPressable.react"),{"aria-label":a.label,display:"inline",onPress:a.onPress,overlayDisabled:!0,ref:c,xstyle:h.linkHoverUnderline,children:a.children})})}e.exports=g.forwardRef(a)}),null);
__d("CometFeedTranslationActions.react",["CometTrackingNodeProvider.react","Middot.react","React","TetraTextPairing.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){a=a.actionElements;var c=[];for(var d=0;d<a.length;d++){d!==0&&c.push(g.jsx(b("Middot.react"),{},"middot-"+d));var e=a[d];c.push(e)}return g.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:225,children:g.jsx(b("TetraTextPairing.react"),{level:4,meta:c,metaColor:"highlight"})})}e.exports=a}),null);
__d("CometFeedTranslationMenu.entrypoint",["CometFeedTranslationMenuQuery$Parameters","JSResource"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){return{queries:{menuQueryReference:{parameters:b("CometFeedTranslationMenuQuery$Parameters"),variables:{storyId:a.storyId}}}}},root:b("JSResource")("CometFeedTranslationMenu.react").__setRef("CometFeedTranslationMenu.entrypoint")};e.exports=a}),null);
__d("CometFeedTranslationMenuTrigger.react",["CometEntryPointPopoverTrigger.react","CometFeedTranslationActionButton.react","CometFeedTranslationMenu.entrypoint","CometRelay","React","recoverableViolation","CometFeedTranslationMenuTrigger_story.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");c=b("React");var j=c.useCallback,k=c.useState;function a(a){var c=h(g!==void 0?g:g=b("CometFeedTranslationMenuTrigger_story.graphql"),a.story);c=c.id;var d=k(0),e=d[0];d=d[1];var f=j(function(c,d){return i.jsx(b("CometFeedTranslationActionButton.react"),{label:a.label,onPress:d,ref:c,children:a.children})},[a.children,a.label]);return c==null?b("recoverableViolation")("Cannot render CometFeedTranslationMenuTrigger with a null story id","comet_feed"):i.jsx(b("CometEntryPointPopoverTrigger.react"),{entryPointParams:{storyId:c},otherProps:{translationRating:e,updateTranslationRating:d},popoverEntryPoint:b("CometFeedTranslationMenu.entrypoint"),children:f})}e.exports=a}),null);
__d("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy.react",["fbt","CometFeedGearActionIcon.react","CometFeedMessageQuote.react","CometFeedMessageTextWithEntities.react","CometFeedTranslationActionButton.react","CometFeedTranslationActions.react","CometFeedTranslationMenuTrigger.react","CometFeedUnitQueryVariablesContext","CometRelay","React","TetraTextPairing.react","stylex","unrecoverableViolation","useCometFeedStoryMatchDebugger","CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React");c=b("React");var k=c.useCallback,l=c.useContext,m=c.useMemo,n=c.useState,o={textOnlyQuote:{marginBottom:"tvmbv18p"},textOnlyQuoteWithOriginal:{marginBottom:"tvmbv18p",marginTop:"tr9rh885"}};function a(a){var c=i(h!==void 0?h:h=b("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy_messageContainer.graphql"),a.messageContainer),d=c.story;b("useCometFeedStoryMatchDebugger")(c);var e=d==null?void 0:(c=d.translation)==null?void 0:c.message;c=n(!1);var f=c[0],p=c[1],q=k(function(){p(function(a){return!a})},[]),r=l(b("CometFeedUnitQueryVariablesContext"));c=m(function(){if(e!=null&&d!=null){var a=[j.jsx(b("CometFeedTranslationMenuTrigger.react"),{label:g._("Translation Preferences"),story:d,children:j.jsx(b("CometFeedGearActionIcon.react"),{})},"settings-gear"),j.jsx(b("CometFeedTranslationActionButton.react"),{onPress:q,children:f?g._("Hide original"):g._("See original")},"toggle"),j.jsx(b("CometFeedTranslationMenuTrigger.react"),{story:d,children:g._("Rate this translation")},"rating-menu")],c=(d==null?void 0:d.is_text_only_story)===!0?f?o.textOnlyQuoteWithOriginal:o.textOnlyQuote:void 0;return j.jsxs(b("CometFeedMessageQuote.react"),{xstyle:c,children:[j.jsx(b("TetraTextPairing.react"),{body:j.jsx(b("CometFeedMessageTextWithEntities.react"),{textWithEntities:e,truncationStyle:(r==null?void 0:r.feedLocation)==="PERMALINK"?"none":"see-more"}),level:3}),j.jsx(b("CometFeedTranslationActions.react"),{actionElements:a})]})}return null},[f,d,q,e]);if(d==null)throw b("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a story","comet_feed");if(e==null)throw b("unrecoverableViolation")("CometFeedStoryAutoTranslatedMessageContainerRenderingStrategy rendered without a translated message","comet_feed");return j.jsxs(j.Fragment,{children:[f?a.children:null,c]})}e.exports=a}),null);